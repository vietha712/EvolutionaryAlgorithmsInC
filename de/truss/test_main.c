#include "matrix.h"

double func(double *);
void fix(double *X, int length);

double preCpted_A[10] = {30, 1.62, 22.9, 13.5, 1.62, 1.62, 7.97, 26.5, 22, 1.8};

double aeDE_52bars[12] = {4658.055, 1161.288, 494.193, 3303.219, 939.998, 494.193, 2238.705, 1008.385, 494.193, 1283.868, 1161.288, 494.193};
double our_proposed_52bars[12] = {4658.055, 1161.288, 494.193, 3303.219, 939.998, 506.451, 2238.705, 1008.385, 388.386, 1283.868, 1161.288, 506.451};
double cbo_52bars[12] = {4658.055, 1161.288, 388.386, 3303.219, 939.998, 506.451, 2238.705, 1008.385, 506.451, 1283.868, 1161.288, 506.451};
double testVector_2[16] =  {1.990,
                            0.563,
                            0.111,
                            0.111,
                            1.228,
                            0.442,
                            0.111,
                            0.111,
                            0.563,
                            0.563,
                            0.111,
                            0.111,
                            0.196,
                            0.563,
                            0.391,
                            0.563};

double testVector_3[16] = {0.39, 0.14, 0.11, 0.11, 0.39, 0.14, 0.11, 0.11, 0.31, 0.11, 0.11, 0.14, 0.20, 0.11, 0.14, 0.14};

double testVector_4[16] = {26.5, 8.53, 28, 7.22, 11.5, 9.3, 0.307, 18.8, 24.5, 0.442, 9.3, 4.97, 22.9, 2.38, 4.49, 7.97};

double test_vector[10] = {1.62, 27, 35, 14.6, 0, 3, -4, 7.7, 32, 1.8};

double test200bars[29] = {0.1, 0.954, 0.347, 0.1, 2.142, 0.347, 0.1, 3.131, 0.347, 4.805, 0.539, 0.347, 5.952, 0.1, 6.572, 
                          0.954, 0.44, 8.525, 0.1, 9.3, 0.954, 1.081, 13.33, 0.539, 14.29, 2.142, 3.813, 8.525, 17.17};

double test200bars__our[29] = {
0.1,
1.174,
0.1,
0.1,
2.142,
0.1,
0.1,
3.131,
0.44,
4.805,
0.347,
0.1,
5.952,
0.1,
6.572,
0.347,
0.1,
8.525,
0.1,
8.525,
0.347,
0.954,
10.85,
0.539,
10.85,
1.488,
6.572,
10.85,
13.33
};

double test160bars_aeDE[38] = { 19.03, 5.27, 19.03, 5.27, 19.03, 5.75, 15.39, 5.75, 13.79, 5.75, 5.75, 12.21, 6.25, 5.75, 3.88, 7.44, 1.84, 8.66, 2.66, 3.07, 2.66, 8.06, 5.75, 6.25, 5.75, 2.26, 4.79, 2.66, 3.47, 1.84, 2.26, 3.88, 1.84, 1.84, 3.88, 1.84, 1.84, 3.88
};
double test160bars_matlab[38] = { 19.03, 5.27, 19.03, 5.27, 19.03, 5.75, 15.39, 5.75, 13.79, 5.75, 5.75, 13.79, 6.25, 5.75, 2.66, 7.44, 1.84, 8.66, 2.66, 3.07, 2.66, 8.06, 5.27, 6.25, 5.75, 1.84, 4.79, 2.66, 3.47, 1.84, 2.26, 3.88, 1.84, 1.84, 3.88, 1.84, 1.84, 3.88
};
double test160bars_our[38] = {
19.03,
5.27,
19.03,
5.27,
19.03,
5.75,
15.39,
5.75,
13.79,
5.75,
5.75,
13.79,
6.25,
5.75,
2.66,
7.44,
1.84,
8.66,
2.66,
3.07,
3.07,
8.06,
5.27,
6.25,
5.75,
1.84,
4.79,
2.66,
3.47,
1.84,
2.26,
3.88,
1.84,
1.84,
4.79,
1.84,
1.84,
4.79
};
int main(void)
{
#if 0
    printf("obj value 52 bars: %.20f\n", func(our_proposed_52bars));
    printf("obj value 52 bars: %.20f\n", func(cbo_52bars));
    printf("obj value 52 bars: %.20f\n", func(aeDE_52bars));


    printf("obj value 200 bars: %.20f\n", func(test200bars));
    
    printf("obj value 72 bars: %.20f\n", func(testVector_2));

    printf("obj value 10 bars: %.20f\n", func(preCpted_A));

#endif
    printf("obj value 160 bars: %.20f\n", func(test160bars_our));
    //printf("obj value 200 bars: %.20f\n", func(test200bars__our));
    return 0;
}